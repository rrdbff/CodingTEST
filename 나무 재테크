// Baekjoon.cpp: 콘솔 응용 프로그램의 진입점을 정의합니다.
//


#include "stdafx.h"
#include <iostream>
#include <algorithm>
#include <vector>
#include <queue>
using namespace std;

int dead = 11;
int dirr[8] = { -1,-1,-1,0,0,1,1,1 };
int dirc[8] = { -1,0,1,-1,1,-1,0,1 };
int T, x, y, tage;
int N,M,K;
int ntree;
struct L
{
	vector<int> tree;
	int energy =5;
	int refuel;

};

bool OOB(int a, int b)
{
	return a <= 0 or a > N or b > N or b <= 0;
}

void spring(L(*A)[12])
{
	for (int i = 1;i <= N;i++)
	{
		for (int j = 1;j <= N;j++)
		{
			if (A[i][j].tree.size() == 0)
				continue;
			if (A[i][j].tree.size()>1)
				sort(A[i][j].tree.begin(), A[i][j].tree.end());
			for (int k = 0;k < (int)A[i][j].tree.size();k++)
			{
				int temp;
				temp = A[i][j].energy - A[i][j].tree[k];
				if (temp < 0) {
					A[i][j].tree[k] = A[i][j].tree[k] - dead;
				}
				else {
					A[i][j].tree[k]++;
					A[i][j].energy = temp;
				}
			}
		}
	}
}

void summer(L(*A)[12])
{
	
		//for (int j = 0;j <= N;j++)
		//{
		//	for (int k = 0; k <= N; k++)
		//	{
		//		cout << "(" << j << k << ")" << " ";
		//		for (int l = 0;l < (int)A[j][k].tree.size();l++)
		//		{
		//			cout << A[j][k].tree[l] << " ";
		//		}
		//	}
		//	cout << "\n";
		//}
		//cout << "SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\n";
	for (int i = 1;i <= N;i++)
	{
		for (int j = 1; j <= N; j++)
		{
			int tsize = (int)A[i][j].tree.size();
			for (int k = (tsize-1);k >= 0 ;k--)
			{
				if (A[i][j].tree[k] < 0)
				{
					A[i][j].energy = A[i][j].energy + ((A[i][j].tree[k] + dead) / 2);
					A[i][j].tree.erase(A[i][j].tree.begin() + k);
				}
			}
		}
	}

}
void autumn(L(*A)[12])
{
	for (int i = 1;i <= N;i++)
	{
		for (int j = 1;j <= N;j++)
		{
			for (int k = 0;k < (int)A[i][j].tree.size();k++)
			{
				if ((A[i][j].tree[k] % 5) == 0)
				{
					for (int l = 0; l < 8;l++)
					{
						x = i + dirr[l];
						y = j + dirc[l];
						if (OOB(x, y))
							continue;
						else
							A[x][y].tree.push_back(1);
					}
				}
			}
		}
	}
}
void winter(L (*A)[12])
{
	for (int i = 1;i <= N;i++)
	{
		for (int j = 1;j <= N;j++)
		{
			A[i][j].energy += A[i][j].refuel;
		}
	}
}

int main()
{
	L A[12][12];
	cin >> N >> M >> K;
	for (int r = 1;r <= N;r++) {
		for (int c = 1;c <= N;c++) {
			cin >> T;
			A[r][c].refuel = T;
		}
	}
	for (int i = 0;i < M;i++) {
		cin >> x >> y >> tage;
		A[x][y].tree.push_back(tage);
	}

	for (int i = 0;i < K;i++)
	{
		spring(A);
		summer(A);
		autumn(A);
		winter(A);

		//for (int j = 0;j <= N;j++)
		//{
		//	for (int k = 0; k <= N; k++)
		//	{
		//		cout << "(" << j << k << ")" << " ";
		//		for (int l = 0;l < (int)A[j][k].tree.size();l++)
		//		{
		//			cout << A[j][k].tree[l] << " ";
		//		}
		//	}
		//	cout << "\n";
		//}
		//cout << " ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n";
		//for (int j = 0;j <= N;j++)
		//{
		//	for (int k = 0; k <= N; k++)
		//	{
		//		cout << A[j][k].energy << " ";
		//	}
		//	cout << "\n";
		//}
		//cout << "========================================================\n";
	}
	for (int i = 0;i <= N;i++){
		for (int j = 0;j <= N;j++)
		{
			ntree += A[i][j].tree.size();
		}
	}
	cout << ntree << "\n";
	return 0;
}
